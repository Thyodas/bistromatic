/*
** EPITECH PROJECT, 2021
** test_add_sub.c
** File description:
** test_add_sub
*/

#include <criterion/criterion.h>
#include "my.h"

char *eval_expr(char *base, char *op, char *str, int size);

Test(eval_expr, positive_int)
{
    cr_assert_str_eq(eval_expr("0123456789", "()+-*/%",
    "1+1+1+1+1+1+1+1+1+1+1+10000+123+456", 35), "10590");
    cr_assert_str_eq(eval_expr("0123456789", "()+-*/%",
    "10230+(12882+1313)+(122+232)", 28), "24779");
}

Test(eval_expr, parentheses_hell)
{
    cr_assert_str_eq(eval_expr("0123456789", "()+-*/%",
    "((((((1+1000+2+3))))))", 23), "1006");
    cr_assert_str_eq(eval_expr("0123456789", "()+-*/%",
    "((((10230)))+(((12882+1313)+(122+232))))", 40), "24779");
}

Test(eval_expr, negative_int)
{
    cr_assert_str_eq(eval_expr("0123456789", "()+-*/%",
    "-18323+780-6789+(1387-178)-26+23-(-623)", 40), "-22503");
    cr_assert_str_eq(eval_expr("0123456789", "()+-*/%",
    "((-18323)+(780-6789)+(1387-178)-26+23-(-623))", 46), "-22503");
}

Test(eval_expr, mul_div_mod)
{
    cr_assert_str_eq(eval_expr("0123456789", "()+-*/%",
    "1762*323-1239+239%(232+1)/2+4", 30), "567894");
    cr_assert_str_eq(eval_expr("0123456789", "()+-*/%",
    "((1762*323)-(1239+23389)%(232+1)/2+(4))", 40), "569049");
}

Test(eval_expr, zeros)
{
    cr_assert_str_eq(eval_expr("0123456789", "()+-*/%",
    "0+00000+000+0+0+0+0+0+0+0+0+0+0-0-(-0)", 39), "0");
}

Test(eval_expr, multiple_plus)
{
    cr_assert_str_eq(eval_expr("0123456789", "()+-*/%",
    "1+1+1++1+1+1++1+1+1+1+1+10000++123+456", 35), "10590");
    cr_assert_str_eq(eval_expr("0123456789", "()+-*/%",
    "10230+(12882+1313)+(122++232)", 28), "24779");
}

Test(eval_expr, mult)
{
    cr_assert_str_eq(eval_expr("0123456789", "()+-*/%",
    "5678954*45678909634789202", 26),
    "259408426586124677854708");
    cr_assert_str_eq(eval_expr("0123456789", "()+-*/%",
    "5678954*45678909634789202*80008932*6286782368768*12", 52),
    "1565785350086507363918097387775090308629200896");
    cr_assert_str_eq(eval_expr("0123456789", "()+-*/%",
    "-12*12", 6), "-144");
    cr_assert_str_eq(eval_expr("0123456789", "()+-*/%",
    "4576689782769*273767678233*-2536233823*280382389*-23798287*2*1*1*1", 67),
    "42408153582481385407294499723703570569781827298906");
}